"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[185],{185:function(e,n,t){t.r(n),t.d(n,{default:function(){return z}});var r,i,o,c,s,a=t(439),u=t(392),l=t(791),d=t(87),f=t(168),g=t(686),h=g.Z.li(r||(r=(0,f.Z)(["\n  display: flex;\n  justify-content: center;\n  padding-top: 30vh;\n  padding-bottom: 30vh;\n  text-align: center;\n\n  width: 230px;\n\n  img {\n    max-height: 100%;\n    overflow: hidden;\n  }\n\n  a {\n    color: #333;\n    text-decoration: none;\n    cursor: pointer;\n    transition: color 0.2s ease-in-out;\n\n    &:hover {\n      color: #e53935;\n    }\n  }\n\n  h2 {\n    font-size: 24px;\n    margin-bottom: 0.5rem;\n  }\n"]))),p=g.Z.div(i||(i=(0,f.Z)(["\n  padding: 10px;\n  border-radius: 10px;\n  height: 510px;\n  width: 200px;\n\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 10px;\n\n  transition: background 0.2s ease-in-out;\n"]))),v=g.Z.div(o||(o=(0,f.Z)(["\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  width: 100%;\n  height: 400px;\n"]))),b=t(184),x=(0,l.memo)((function(e){var n=e.id,t=e.name,r=e.imageUrl,i=e.handleRightClick,o=e.selected;return(0,b.jsx)("div",{children:(0,b.jsx)(h,{onContextMenu:function(e){return i(e,n)},children:(0,b.jsx)(d.rU,{to:"/".concat(n),children:(0,b.jsxs)(p,{style:{background:o?"lightblue":"white"},children:[(0,b.jsx)(v,{children:(0,b.jsx)("img",{src:r,alt:t})}),(0,b.jsx)("h2",{children:t})]})})})})})),m=g.Z.ul(c||(c=(0,f.Z)(["\n  display: grid;\n  grid-template-columns: repeat(5, 1fr);\n  gap: 1rem;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n"]))),y=g.Z.button(s||(s=(0,f.Z)(["\n  position: fixed;\n  bottom: 100px;\n  right: 50px;\n  width: 100px;\n  height: 100px;\n  padding: 25px 30px;\n  cursor: pointer;\n  background-color: #ff3b30;\n  color: #fff;\n  font-size: 15px;\n  border: none;\n  border-radius: 50%;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background-color: #e53935;\n  }\n\n  opacity: ",";\n  transition: opacity 0.3s ease;\n"])),(function(e){return e.isVisible?1:0})),w=t(683);function k(e,n){if(null==e)return{};var t,r,i=function(e,n){if(null==e)return{};var t,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||(i[t]=e[t]);return i}(e,n);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)t=o[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(i[t]=e[t])}return i}var B=t(671),j=t(144),Z=t(326),S=t(136),L=t(277),V=["as","triggerOnce","threshold","root","rootMargin","onChange","skip","trackVisibility","delay","initialInView","fallbackInView"],O=Object.defineProperty,C=function(e,n,t){return function(e,n,t){n in e?O(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t}(e,"symbol"!==typeof n?n+"":n,t),t},E=new Map,R=new WeakMap,I=0,M=void 0;function _(e){return Object.keys(e).sort().filter((function(n){return void 0!==e[n]})).map((function(n){return"".concat(n,"_").concat("root"===n?(t=e.root)?(R.has(t)||(I+=1,R.set(t,I.toString())),R.get(t)):"0":e[n]);var t})).toString()}function F(e){var n=_(e),t=E.get(n);if(!t){var r,i=new Map,o=new IntersectionObserver((function(n){n.forEach((function(n){var t,o=n.isIntersecting&&r.some((function(e){return n.intersectionRatio>=e}));e.trackVisibility&&"undefined"===typeof n.isVisible&&(n.isVisible=o),null==(t=i.get(n.target))||t.forEach((function(e){e(o,n)}))}))}),e);r=o.thresholds||(Array.isArray(e.threshold)?e.threshold:[e.threshold||0]),t={id:n,observer:o,elements:i},E.set(n,t)}return t}function U(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:M;if("undefined"===typeof window.IntersectionObserver&&void 0!==r){var i=e.getBoundingClientRect();return n(r,{isIntersecting:r,target:e,intersectionRatio:"number"===typeof t.threshold?t.threshold:0,time:0,boundingClientRect:i,intersectionRect:i,rootBounds:i}),function(){}}var o=F(t),c=o.id,s=o.observer,a=o.elements,u=a.get(e)||[];return a.has(e)||a.set(e,u),u.push(n),s.observe(e),function(){u.splice(u.indexOf(n),1),0===u.length&&(a.delete(e),s.unobserve(e)),0===a.size&&(s.disconnect(),E.delete(c))}}l.Component;var A=function(){var e=(0,u.E)(),n=e.beersList,t=e.toggleBeerSelection,r=e.selectedBeers,i=e.deleteSelectedBeers,o=(0,l.useState)(!1),c=(0,a.Z)(o,2),s=c[0],d=c[1],f=(0,l.useState)(0),g=(0,a.Z)(f,2),h=g[0],p=g[1],v=(0,l.useState)(15),w=(0,a.Z)(v,2),k=w[0],B=w[1],j=(0,l.useState)(!0),Z=(0,a.Z)(j,2),S=Z[0],L=Z[1];(0,l.useEffect)((function(){d(r.length>0)}),[r]);var V=function(e,n){e.preventDefault(),t(n)},O=function(){var e,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=n.threshold,r=n.delay,i=n.trackVisibility,o=n.rootMargin,c=n.root,s=n.triggerOnce,u=n.skip,d=n.initialInView,f=n.fallbackInView,g=n.onChange,h=l.useState(null),p=(0,a.Z)(h,2),v=p[0],b=p[1],x=l.useRef(),m=l.useState({inView:!!d,entry:void 0}),y=(0,a.Z)(m,2),w=y[0],k=y[1];x.current=g,l.useEffect((function(){var e;if(!u&&v)return e=U(v,(function(n,t){k({inView:n,entry:t}),x.current&&x.current(n,t),t.isIntersecting&&s&&e&&(e(),e=void 0)}),{root:c,rootMargin:o,threshold:t,trackVisibility:i,delay:r},f),function(){e&&e()}}),[Array.isArray(t)?t.toString():t,v,c,o,s,u,i,f,r]);var B=null==(e=w.entry)?void 0:e.target,j=l.useRef();v||!B||s||u||j.current===B||(j.current=B,k({inView:!!d,entry:void 0}));var Z=[b,w.inView,w.entry];return Z.ref=Z[0],Z.inView=Z[1],Z.entry=Z[2],Z}({triggerOnce:!1,rootMargin:"0px 0px 200px 0px"}),C=O.ref,E=O.inView;(0,l.useEffect)((function(){E&&S&&(B((function(e){return e+5})),p((function(e){return e+5})))}),[E,S,n]),(0,l.useEffect)((function(){k>=n.length?L(!1):L(!0)}),[k,n]);return(0,b.jsxs)("div",{children:[(0,b.jsx)(y,{isVisible:s,onClick:function(){i(),p(0),B(15)},children:"Delete"}),(0,b.jsxs)(m,{children:[null===n||void 0===n?void 0:n.slice(h,k).map((function(e){var n=e.id,t=e.name,i=e.image_url;return(0,b.jsx)(x,{id:n,name:t,imageUrl:i,handleRightClick:V,selected:r.includes(n)},n)})),(0,b.jsx)("div",{ref:C})]})]})},z=function(){var e=(0,u.E)().fetchBeerList;return(0,l.useEffect)((function(){localStorage.clear(),e(1)}),[e]),(0,b.jsx)(A,{})}},392:function(e,n,t){t.d(n,{E:function(){return f}});var r=t(433),i=t(861),o=t(687),c=t.n(o),s=t(847),a=t(85),u=t(243);u.Z.defaults.baseURL="https://api.punkapi.com/v2/beers";var l=function(){var e=(0,i.Z)(c().mark((function e(n){var t,r;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.Z.get("",{params:{page:n}});case 2:return t=e.sent,r=t.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),d=(0,s.Ue)((0,a.tJ)((function(e,n){return{beerList:[],page:1,selectedBeers:[],isFetched:!1,isLoading:!1,fetchBeerList:function(){var t=(0,i.Z)(c().mark((function t(i){var o,s,a,u;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o=n(),s=o.isFetched,a=o.isLoading,!s&&!a){t.next=3;break}return t.abrupt("return");case 3:return e({isLoading:!0}),t.prev=4,t.next=7,l(i);case 7:u=t.sent,e((function(e){return{beerList:(0,r.Z)(u),isFetched:!0}})),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(4),alert(t.t0.message);case 14:return t.prev=14,e({isLoading:!1}),t.finish(14);case 17:case"end":return t.stop()}}),t,null,[[4,11,14,17]])})));return function(e){return t.apply(this,arguments)}}(),toggleBeerSelection:function(n){e((function(e){return{selectedBeers:e.selectedBeers.includes(n)?e.selectedBeers.filter((function(e){return e!==n})):[].concat((0,r.Z)(e.selectedBeers),[n])}}))},deleteSelectedBeers:function(){e((function(e){var n=e.beerList.filter((function(n){return!e.selectedBeers.includes(n.id)}));if(0===n.length){var t=e.page+1;return e.isFetched=!1,e.fetchBeerList(t),{beerList:n,selectedBeers:[],page:t}}return{beerList:n,selectedBeers:[],page:e.page}}))}}}),{name:"beer-store",storage:(0,a.FL)((function(){return localStorage})),onRehydrate:function(e){1===e.page&&(e.beerList=[])}})),f=function(){return{beersList:d((function(e){return e.beerList})),toggleBeerSelection:d((function(e){return e.toggleBeerSelection})),selectedBeers:d((function(e){return e.selectedBeers})),deleteSelectedBeers:d((function(e){return e.deleteSelectedBeers})),fetchBeerList:d((function(e){return e.fetchBeerList}))}}}}]);
//# sourceMappingURL=185.4ae1f26e.chunk.js.map